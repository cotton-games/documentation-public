# Tests manuels — C2 (Bingo player cells: `grid_cells_sync` + `grid_hydrate`)

## Pré-requis
- WS Bingo démarré avec `CANVAS_API_URL` pointant vers `.../games_ajax.php?t=jeux&m=canvas` (alias: `.../global_ajax.php?t=jeux&m=canvas`)
- Une session de dev valide (sessionId/token) + un player/grille validés
- Note: le wsType player `case_click` a été supprimé côté WS le **22 janvier 2026** (plus de compat legacy).

## 1) Chemin nominal (sync DB best-effort)
- Depuis un player, cocher/décocher plusieurs cases.
- Attendre > debounce (ex: 2–3s) pour laisser `grid_cells_sync` flusher.
- Vérifier côté DB (Canvas):
  - `jeux_bingo_musical_grids_clients.box_<N>_timestamp` reflète les cases cochées (NOW) vs décochées (`'0000-00-00 00:00:00'`).

## 2) Reprise via `grid_hydrate` (sans localStorage)
- Supprimer `localStorage.bingo_checked` (ou ouvrir en navigation privée).
- Reload la page player.
- Vérifier que l’état visuel est reconstruit via DB (cases déjà cochées réapparaissent).

## Où regarder (WS)
- WS ne persiste plus les clics de cases: aucun handler `case_click` côté `bingo.game/ws/bingo_server.js`.
